[toc]

### 第七章 文件系统

* **==提高文件操作速度的方式==：磁盘调度算法、优化布局、顺序文件定长记录、索引表引入、索引节点**

#### 7.1 文件和文件系统

##### 1. 数据项、记录和文件

##### 2. 文件名和类型

* 文件类型
  * 用途：系统文件、用户文件、库文件
  * 数据形式：源文件、目标文件、可执行文件
  * 存取控制属性：只执行文件、只读文件、读写文件
  * 组织形式和处理方式：普通文件、目录文件、特殊文件

##### 3. 文件系统的层次结构

* 对象及其属性、对对象进行操纵和管理的软件集合、文件系统提供给用户的接口
* 文件系统有关的软件：IO控制层、基本的文件系统层、基本的IO管理程序、逻辑文件系统

##### 4. 文件操作

* 基本的文件操作：创建、删除、读文件、写文件、设置文件的读写位置
* 文件的打开和关闭，本质时建立磁盘-内存-处理机链接

#### 7.2 ==文件的逻辑结构==

* 文件的两种结构：逻辑结构和物理结构	

##### 1. 逻辑结构的类型

* 是否有结构

  * **有结构文件**：定长记录、变长记录

  * **无结构文件**（流式文件）

* 文件的组织方式：顺序文件、索引文件、顺序索引文件

##### 2. 顺序文件

* 串结构、顺序结构

##### 3. 记录寻址

* 隐式寻址方式（缺点）
* 显式寻址方式

##### 4. 索引文件

* 按关键字建立索引、具有多个索引表的索引文件、

##### 5. 索引顺序文件

##### 6. 直接文件和哈希文件

#### 7.3 ==文件目录==

* 目录管理的要求：实现按名存取、提高对目录的检索速度、文件共享、允许文件重名

##### 1. 文件控制块和索引节点

* 文件控制块、文件目录、目录文件
* 文件控制块：
  * 基本信息类：文件名、文件物理位置、文件逻辑结构、文件物理结构
  * 存取控制信息类、使用信息类
* 索引节点
  * 引入：将==FCB==文件名和文件信息分开单独生成表、其中文件信息部分称为索引节点
  * 磁盘索引节点、内存索引节点

##### 2. 简单的文件目录

* 单级文件目录：整个文件中只建立一张目录表（缺点）
* 两级文件目录：为每个用户再建立一个单独的文件目录

##### 3. 树形结构文件目录

##### 4. 目录查询技术

* 过程：文件名-FCB/索引节点物理地址映射-读入内存
* 线性检索、hash方法

#### 7.4 文件共享

##### 1. 基于有向无环图实现文件共享

* 有向无环图DAG
* 利用索引节点

##### 2. 利用符号链接实现文件共享

* 原理（快捷方式）、优点和缺点

#### 7.5 文件保护

##### 1. 保护域

- 访问权、保护域（进程级）、静态联系方式、动态联系方式

##### 2. 访问矩阵

* 基本的访问矩阵、具有域切换权的访问矩阵

##### 3. 访问矩阵的修改

- 拷贝权、所有权

##### 4. 访问矩阵的实现

* 访问控制表（文件级、进程级）、访问权限表（进程级）
* 快速验证访问合法性

