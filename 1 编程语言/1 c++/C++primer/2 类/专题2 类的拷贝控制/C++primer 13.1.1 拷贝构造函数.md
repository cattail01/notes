[toc]

### 13.1.1 拷贝构造函数

#### 拷贝构造声明

* 形式

  ```C++
  class Foo{
      public:
      	Foo() = default;	// 默认构造函数
      	Foo(const Foo&);	// 拷贝构造函数
  }
  ```

* 注意：非emplace

  * 拷贝构造函数通常情况下时emplace的
  * 如果拷贝构造函数时emplace的，则和直接初始化差不多

#### 合成拷贝构造函数

* 即使有其他构造函数，编译器会合成一个默认的拷贝构造
* 一般情况下，合成拷贝构造会默认拷贝对象的每个成员
* 特殊情况狂下，合成拷贝构造阻止拷贝
* 合成拷贝的方式
  * 类类型：通过改成员类的拷贝构造函数拷贝
  * 内置类型：直接拷贝
  * 数组：拷贝整个数组类型（而非数组指针）

#### 拷贝初始化

##### 与直接初始化区别

* 直接初始化：构造函数
* 拷贝初始化：拷贝构造含糊、移动构造函数

##### 下列操作发生拷贝构造

* 使用=进行初始化
* 向函数传参、函数返回值
* 使用{}进行列表初始化

##### 参数和返回值

* 参数类型和返回值类型都是非指针非引用类型时发生拷贝构造
* 拷贝构造函数的参数必须时引用类型

#### explicit限制参数和返回值

* 使用explicit限制构造函数的类型转换，则直接初始化与拷贝初始化差异不大

#### 编译器可以拒绝使用拷贝构造函数

* 编译器可以不用，但是不能找不到

